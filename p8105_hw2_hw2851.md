p8105_hw2_hw2851
================

## Problem 1

``` r
trash_wheel_data_set = './data/Trash-Wheel-Collection-Totals-8-6-19.xlsx'
mr_trash_wheel_data = read_excel(trash_wheel_data_set) %>%
  janitor::clean_names() %>%
  # remove columns containing notes
  select(dumpster:homes_powered) %>%
  # remove rows that don't contain dumpster-specific data (for example, "May Total")
  filter(!stringr::str_detect(month, "Total")) %>%
  # round the number of sports balls
  mutate(sports_balls = round(sports_balls, 0))
```

The Mr.Â trash wheel dataset has 344 rows. After clean up, it contains 14
columns: dumpster, month, year, date, weight_tons, volume_cubic_yards,
plastic_bottles, polystyrene, cigarette_butts, glass_bottles,
grocery_bags, chip_bags, sports_balls, homes_powered. Here is the first
row of the dataset: 1, May, 2014, 2014-05-16, 4.31, 18, 1450, 1820,
1.26^{5}, 72, 584, 1162, 7, 0. Here is the last row of the dataset: 344,
June, 2019, 2019-06-17, 3.02, 15, 3300, 2400, 8000, 18, 500, 1600, 16,
50.3333333. The median number of sports balls in a dumpster in 2019 is
8.5.

``` r
precipitation_2019_data = read_excel(trash_wheel_data_set, sheet="2019 Precipitation", skip=1) %>%
  janitor::clean_names() %>%
  drop_na() %>%
  mutate(year = "2019")

precipitation_2018_data = read_excel(trash_wheel_data_set, sheet="2018 Precipitation", skip=1) %>%
  janitor::clean_names() %>%
  drop_na() %>%
  mutate(year = "2018")

precipitation_data = bind_rows(precipitation_2019_data, precipitation_2018_data) %>%
  mutate(month = month.name[month])
```

The 2018 and 2019 combined precipitation dataset has 18 rows. After
clean up, it contains 3 columns: month, total, year. Here is the first
row of the dataset: January, 3.1, 2019. Here is the last row of the
dataset: December, 6.11, 2018. The total precipitation in 2018 is 70.33.

## Problem 2

``` r
pols_month_data = read_csv('./data/fivethirtyeight_datasets/pols-month.csv') %>%
  separate(mon, into = c("year", "month", "day"), sep = "-") %>%
  mutate(year = as.numeric(year), month = month.name[as.integer(month)]) %>%
  mutate(president = ifelse(prez_gop==0, "dem", "gop")) %>%
  select(-day, -prez_dem, -prez_gop)
```

``` r
snp_data = read_csv('./data/fivethirtyeight_datasets/snp.csv') %>%
  separate(date, into=c("month", "day", "year"), sep="/") %>%
  mutate(year = as.integer(year), month = as.integer(month)) %>%
  mutate(year = ifelse(year < 20, year + 2000, year + 1900)) %>%
  arrange(year, month) %>%
  mutate(month = month.name[month]) %>%
  relocate(year, month) %>%
  select(-day)
```

``` r
unemployment_data = read_csv('./data/fivethirtyeight_datasets/unemployment.csv') %>%
  rename(year=Year) %>%
  pivot_longer(!year, names_to = "month", values_to = "unemployment_rate")
```

``` r
merged_538_data = left_join(pols_month_data, snp_data, by = c("year" = "year", "month" = "month")) %>%
  mutate(month_short = substr(month, 1, 3)) %>%
  left_join(unemployment_data, by = c("year" = "year", "month_short" = "month")) %>%
  select(-month_short)
```

After processing, the merged FiveThirtyEight dataset has 822 rows and 11
columns. The 11 columns are: year, month, gov_gop, sen_gop, rep_gop,
gov_dem, sen_dem, rep_dem, president, close, unemployment_rate. Here is
the first row of the dataset: 1947, January, 23, 51, 253, 23, 45, 198,
dem, NA, NA. Here is the last row of the tdataset: 2015, June, 31, 54,
246, 18, 44, 188, dem, 2063.110107, 5.3. The range of years is from 1947
to 2015. The closing values of the S&P stock index is available since
1950 though, and the unemployment rate is available since 1948. The mean
of S&P closing value is 472.8470595. The mean of unemployment rate is
5.8583969. ## Problem 3
